<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Top Level Namespace
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

  <link rel="stylesheet" href="css/rspec.css" type="text/css" />

<script type="text/javascript">
  pathId = "";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo;
    
    
    <span class="title">Top Level Namespace</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Top Level Namespace
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Validator/CommandHelpers.html" title="Validator::CommandHelpers (module)">Validator::CommandHelpers</a></span>, <span class='object_link'><a href="Validator/HandshakeHelper.html" title="Validator::HandshakeHelper (module)">Validator::HandshakeHelper</a></span>, <span class='object_link'><a href="Validator/ProgrammingHelpers.html" title="Validator::ProgrammingHelpers (module)">Validator::ProgrammingHelpers</a></span>, <span class='object_link'><a href="Validator/StatusHelpers.html" title="Validator::StatusHelpers (module)">Validator::StatusHelpers</a></span></dd>
  </dl>
  
  

  

  
</div>

<h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Validator.html" title="Validator (module)">Validator</a></span>
    
  
    
  
</p>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="CLOCK-constant" class="">CLOCK =
          
        </dt>
        <dd><pre class="code"><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='int'>2020</span><span class='comma'>,</span><span class='int'>9</span><span class='comma'>,</span><span class='int'>29</span><span class='comma'>,</span><span class='int'>17</span><span class='comma'>,</span><span class='int'>29</span><span class='comma'>,</span><span class='int'>51</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>+00:00</span><span class='tstring_end'>&#39;</span></span></pre></dd>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#check_sequence-instance_method" title="#check_sequence (instance method)">#<strong>check_sequence</strong>(version)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#check_sequence_3_1_1-instance_method" title="#check_sequence_3_1_1 (instance method)">#<strong>check_sequence_3_1_1</strong>(core_version)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#check_sequence_3_1_4-instance_method" title="#check_sequence_3_1_4 (instance method)">#<strong>check_sequence_3_1_4</strong>(version)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="top-level-namespace.html#get_connection_message-instance_method" title="#get_connection_message (instance method)">#<strong>get_connection_message</strong>(core_version, length)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Validator/HandshakeHelper.html" title="Validator::HandshakeHelper (module)">Validator::HandshakeHelper</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Validator/HandshakeHelper.html#check_sequence_3_1_1_to_3_1_3-instance_method" title="Validator::HandshakeHelper#check_sequence_3_1_1_to_3_1_3 (method)">#check_sequence_3_1_1_to_3_1_3</a></span>, <span class='object_link'><a href="Validator/HandshakeHelper.html#check_sequence_3_1_4_or_later-instance_method" title="Validator::HandshakeHelper#check_sequence_3_1_4_or_later (method)">#check_sequence_3_1_4_or_later</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Validator/ProgrammingHelpers.html" title="Validator::ProgrammingHelpers (module)">Validator::ProgrammingHelpers</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Validator/ProgrammingHelpers.html#find_alarm_programming-instance_method" title="Validator::ProgrammingHelpers#find_alarm_programming (method)">#find_alarm_programming</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Validator/StatusHelpers.html" title="Validator::StatusHelpers (module)">Validator::StatusHelpers</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Validator/StatusHelpers.html#convert_status_list-instance_method" title="Validator::StatusHelpers#convert_status_list (method)">#convert_status_list</a></span>, <span class='object_link'><a href="Validator/StatusHelpers.html#read_current_plan-instance_method" title="Validator::StatusHelpers#read_current_plan (method)">#read_current_plan</a></span>, <span class='object_link'><a href="Validator/StatusHelpers.html#read_cycle_times-instance_method" title="Validator::StatusHelpers#read_cycle_times (method)">#read_cycle_times</a></span>, <span class='object_link'><a href="Validator/StatusHelpers.html#request_status_and_confirm-instance_method" title="Validator::StatusHelpers#request_status_and_confirm (method)">#request_status_and_confirm</a></span>, <span class='object_link'><a href="Validator/StatusHelpers.html#unsubscribe_from_all-instance_method" title="Validator::StatusHelpers#unsubscribe_from_all (method)">#unsubscribe_from_all</a></span>, <span class='object_link'><a href="Validator/StatusHelpers.html#use_sOc%3F-instance_method" title="Validator::StatusHelpers#use_sOc? (method)">#use_sOc?</a></span>, <span class='object_link'><a href="Validator/StatusHelpers.html#verify_status-instance_method" title="Validator::StatusHelpers#verify_status (method)">#verify_status</a></span>, <span class='object_link'><a href="Validator/StatusHelpers.html#wait_for_groups-instance_method" title="Validator::StatusHelpers#wait_for_groups (method)">#wait_for_groups</a></span>, <span class='object_link'><a href="Validator/StatusHelpers.html#wait_for_status-instance_method" title="Validator::StatusHelpers#wait_for_status (method)">#wait_for_status</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Validator/CommandHelpers.html" title="Validator::CommandHelpers (module)">Validator::CommandHelpers</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Validator/CommandHelpers.html#build_command_list-instance_method" title="Validator::CommandHelpers#build_command_list (method)">#build_command_list</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#disable_emergency_route-instance_method" title="Validator::CommandHelpers#disable_emergency_route (method)">#disable_emergency_route</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#enable_emergency_route-instance_method" title="Validator::CommandHelpers#enable_emergency_route (method)">#enable_emergency_route</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#force_detector_logic-instance_method" title="Validator::CommandHelpers#force_detector_logic (method)">#force_detector_logic</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#force_input-instance_method" title="Validator::CommandHelpers#force_input (method)">#force_input</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#force_input_and_confirm-instance_method" title="Validator::CommandHelpers#force_input_and_confirm (method)">#force_input_and_confirm</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#force_output-instance_method" title="Validator::CommandHelpers#force_output (method)">#force_output</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#get_dynamic_bands-instance_method" title="Validator::CommandHelpers#get_dynamic_bands (method)">#get_dynamic_bands</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#prepare-instance_method" title="Validator::CommandHelpers#prepare (method)">#prepare</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#require_security_codes-instance_method" title="Validator::CommandHelpers#require_security_codes (method)">#require_security_codes</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#reset_clock-instance_method" title="Validator::CommandHelpers#reset_clock (method)">#reset_clock</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#resume_alarm-instance_method" title="Validator::CommandHelpers#resume_alarm (method)">#resume_alarm</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#send_command_and_confirm-instance_method" title="Validator::CommandHelpers#send_command_and_confirm (method)">#send_command_and_confirm</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_clock-instance_method" title="Validator::CommandHelpers#set_clock (method)">#set_clock</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_cycle_time-instance_method" title="Validator::CommandHelpers#set_cycle_time (method)">#set_cycle_time</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_day_table-instance_method" title="Validator::CommandHelpers#set_day_table (method)">#set_day_table</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_dynamic_bands-instance_method" title="Validator::CommandHelpers#set_dynamic_bands (method)">#set_dynamic_bands</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_emergency_route-instance_method" title="Validator::CommandHelpers#set_emergency_route (method)">#set_emergency_route</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_fixed_time-instance_method" title="Validator::CommandHelpers#set_fixed_time (method)">#set_fixed_time</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_functional_position-instance_method" title="Validator::CommandHelpers#set_functional_position (method)">#set_functional_position</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_input-instance_method" title="Validator::CommandHelpers#set_input (method)">#set_input</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_offset-instance_method" title="Validator::CommandHelpers#set_offset (method)">#set_offset</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_plan-instance_method" title="Validator::CommandHelpers#set_plan (method)">#set_plan</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_security_code-instance_method" title="Validator::CommandHelpers#set_security_code (method)">#set_security_code</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_series_of_inputs-instance_method" title="Validator::CommandHelpers#set_series_of_inputs (method)">#set_series_of_inputs</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_signal_start-instance_method" title="Validator::CommandHelpers#set_signal_start (method)">#set_signal_start</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_signal_start_or_stop-instance_method" title="Validator::CommandHelpers#set_signal_start_or_stop (method)">#set_signal_start_or_stop</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_signal_stop-instance_method" title="Validator::CommandHelpers#set_signal_stop (method)">#set_signal_stop</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_timeout_for_dynamic_bands-instance_method" title="Validator::CommandHelpers#set_timeout_for_dynamic_bands (method)">#set_timeout_for_dynamic_bands</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_traffic_situation-instance_method" title="Validator::CommandHelpers#set_traffic_situation (method)">#set_traffic_situation</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_trigger_level-instance_method" title="Validator::CommandHelpers#set_trigger_level (method)">#set_trigger_level</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#set_week_table-instance_method" title="Validator::CommandHelpers#set_week_table (method)">#set_week_table</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#stop_sending_watchdogs-instance_method" title="Validator::CommandHelpers#stop_sending_watchdogs (method)">#stop_sending_watchdogs</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#suspend_alarm-instance_method" title="Validator::CommandHelpers#suspend_alarm (method)">#suspend_alarm</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#switch_dark_mode-instance_method" title="Validator::CommandHelpers#switch_dark_mode (method)">#switch_dark_mode</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#switch_fixed_time-instance_method" title="Validator::CommandHelpers#switch_fixed_time (method)">#switch_fixed_time</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#switch_input-instance_method" title="Validator::CommandHelpers#switch_input (method)">#switch_input</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#switch_normal_control-instance_method" title="Validator::CommandHelpers#switch_normal_control (method)">#switch_normal_control</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#switch_plan-instance_method" title="Validator::CommandHelpers#switch_plan (method)">#switch_plan</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#switch_traffic_situation-instance_method" title="Validator::CommandHelpers#switch_traffic_situation (method)">#switch_traffic_situation</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#switch_yellow_flash-instance_method" title="Validator::CommandHelpers#switch_yellow_flash (method)">#switch_yellow_flash</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#unset_traffic_situation-instance_method" title="Validator::CommandHelpers#unset_traffic_situation (method)">#unset_traffic_situation</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#verify_startup_sequence-instance_method" title="Validator::CommandHelpers#verify_startup_sequence (method)">#verify_startup_sequence</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#wait_normal_control-instance_method" title="Validator::CommandHelpers#wait_normal_control (method)">#wait_normal_control</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#with_alarm_activated-instance_method" title="Validator::CommandHelpers#with_alarm_activated (method)">#with_alarm_activated</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#with_clock_set-instance_method" title="Validator::CommandHelpers#with_clock_set (method)">#with_clock_set</a></span>, <span class='object_link'><a href="Validator/CommandHelpers.html#wrong_security_code-instance_method" title="Validator::CommandHelpers#wrong_security_code (method)">#wrong_security_code</a></span></p>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="check_sequence-instance_method">
  
    #<strong>check_sequence</strong>(version)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


73
74
75
76
77
78
79
80
81
82</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'spec/supervisor/connect_spec.rb', line 73</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_sequence'>check_sequence</span> <span class='id identifier rubyid_version'>version</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_version'>version</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.1.1</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.1.2</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.1.3</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_check_sequence_3_1_1'><span class='object_link'><a href="#check_sequence_3_1_1-instance_method" title="#check_sequence_3_1_1 (method)">check_sequence_3_1_1</a></span></span> <span class='id identifier rubyid_version'>version</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.1.4</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.1.5</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.2</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.2.1</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3.2.2</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_check_sequence_3_1_4'><span class='object_link'><a href="#check_sequence_3_1_4-instance_method" title="#check_sequence_3_1_4 (method)">check_sequence_3_1_4</a></span></span> <span class='id identifier rubyid_version'>version</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unkown rsmp version </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="check_sequence_3_1_1-instance_method">
  
    #<strong>check_sequence_3_1_1</strong>(core_version)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'spec/supervisor/connect_spec.rb', line 26</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_sequence_3_1_1'>check_sequence_3_1_1</span> <span class='id identifier rubyid_core_version'>core_version</span>
  <span class='comment'># in earlier core version, both sides sends a Version
</span>  <span class='comment'># message simulatenously. we therefore cannot expect
</span>  <span class='comment'># a specific sequence
</span>  <span class='comment'># but we can expect a set of messages
</span>
  <span class='id identifier rubyid_expected_version_messages'>expected_version_messages</span> <span class='op'>=</span> <span class='lbracket'>[</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>out</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Version</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>in</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MessageAck</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>in</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Version</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>out</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MessageAck</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='rbracket'>]</span>
  <span class='id identifier rubyid_expected_watchdog_messages'>expected_watchdog_messages</span> <span class='op'>=</span> <span class='lbracket'>[</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>out</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Watchdog</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>in</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MessageAck</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>in</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Watchdog</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>out</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MessageAck</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='rbracket'>]</span>

  <span class='id identifier rubyid_length'>length</span> <span class='op'>=</span> <span class='id identifier rubyid_expected_version_messages'>expected_version_messages</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>+</span>
           <span class='id identifier rubyid_expected_watchdog_messages'>expected_watchdog_messages</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>

  <span class='id identifier rubyid_got'>got</span> <span class='op'>=</span> <span class='id identifier rubyid_get_connection_message'><span class='object_link'><a href="#get_connection_message-instance_method" title="#get_connection_message (method)">get_connection_message</a></span></span> <span class='id identifier rubyid_core_version'>core_version</span><span class='comma'>,</span> <span class='id identifier rubyid_length'>length</span>
  <span class='id identifier rubyid_got_version_messages'>got_version_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_got'>got</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='int'>3</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_got_watchdog_messages'>got_watchdog_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_got'>got</span><span class='lbracket'>[</span><span class='int'>4</span><span class='op'>..</span><span class='int'>7</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_expect'>expect</span><span class='lparen'>(</span><span class='id identifier rubyid_got_version_messages'>got_version_messages</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_include'>include</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_expected_version_messages'>expected_version_messages</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_expect'>expect</span><span class='lparen'>(</span><span class='id identifier rubyid_expected_watchdog_messages'>expected_watchdog_messages</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_include'>include</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_got_watchdog_messages'>got_watchdog_messages</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="check_sequence_3_1_4-instance_method">
  
    #<strong>check_sequence_3_1_4</strong>(version)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'spec/supervisor/connect_spec.rb', line 56</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_sequence_3_1_4'>check_sequence_3_1_4</span> <span class='id identifier rubyid_version'>version</span>
  <span class='id identifier rubyid_expected'>expected</span> <span class='op'>=</span> <span class='lbracket'>[</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>out</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Version</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>in</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MessageAck</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>in</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Version</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>out</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MessageAck</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>out</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Watchdog</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>in</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MessageAck</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>in</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Watchdog</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>out</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MessageAck</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>out</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AggregatedStatus</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>in</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MessageAck</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='rbracket'>]</span>
  <span class='id identifier rubyid_got'>got</span> <span class='op'>=</span> <span class='id identifier rubyid_get_connection_message'><span class='object_link'><a href="#get_connection_message-instance_method" title="#get_connection_message (method)">get_connection_message</a></span></span> <span class='id identifier rubyid_version'>version</span><span class='comma'>,</span> <span class='id identifier rubyid_expected'>expected</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
  <span class='id identifier rubyid_expect'>expect</span><span class='lparen'>(</span><span class='id identifier rubyid_got'>got</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_eq'>eq</span><span class='lparen'>(</span><span class='id identifier rubyid_expected'>expected</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_connection_message-instance_method">
  
    #<strong>get_connection_message</strong>(core_version, length)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'spec/supervisor/connect_spec.rb', line 4</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_connection_message'>get_connection_message</span> <span class='id identifier rubyid_core_version'>core_version</span><span class='comma'>,</span> <span class='id identifier rubyid_length'>length</span>
  <span class='id identifier rubyid_got'>got</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='const'><span class='object_link'><a href="Validator.html" title="Validator (module)">Validator</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Validator/Supervisor.html" title="Validator::Supervisor (class)">Supervisor</a></span></span><span class='period'>.</span><span class='id identifier rubyid_isolated'><span class='object_link'><a href="Validator/Supervisor.html#isolated-class_method" title="Validator::Supervisor.isolated (method)">isolated</a></span></span><span class='lparen'>(</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rsmp_versions</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_core_version'>core_version</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>collect</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
      <span class='label'>timeout:</span> <span class='const'><span class='object_link'><a href="Validator.html" title="Validator (module)">Validator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_config'>get_config</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>timeouts</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ready</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
      <span class='label'>num:</span> <span class='id identifier rubyid_length'>length</span><span class='comma'>,</span>
      <span class='label'>ingoing:</span> <span class='kw'>true</span><span class='comma'>,</span>
      <span class='label'>outgoing:</span> <span class='kw'>true</span>
    <span class='rbrace'>}</span>
  <span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_task'>task</span><span class='comma'>,</span><span class='id identifier rubyid_supervisor'>supervisor</span><span class='comma'>,</span><span class='id identifier rubyid_site_proxy'>site_proxy</span><span class='op'>|</span>
    <span class='id identifier rubyid_collector'>collector</span> <span class='op'>=</span> <span class='id identifier rubyid_site_proxy'>site_proxy</span><span class='period'>.</span><span class='id identifier rubyid_collector'>collector</span>
    <span class='id identifier rubyid_collector'>collector</span><span class='period'>.</span><span class='id identifier rubyid_use_task'>use_task</span> <span class='id identifier rubyid_task'>task</span>
    <span class='id identifier rubyid_collector'>collector</span><span class='period'>.</span><span class='id identifier rubyid_wait!'>wait!</span>
    <span class='id identifier rubyid_expect'>expect</span><span class='lparen'>(</span><span class='id identifier rubyid_site_proxy'>site_proxy</span><span class='period'>.</span><span class='id identifier rubyid_ready?'>ready?</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to'>to</span> <span class='id identifier rubyid_be'>be</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_got'>got</span> <span class='op'>=</span> <span class='id identifier rubyid_site_proxy'>site_proxy</span><span class='period'>.</span><span class='id identifier rubyid_collector'>collector</span><span class='period'>.</span><span class='id identifier rubyid_messages'>messages</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_message'>message</span><span class='op'>|</span> <span class='lbracket'>[</span><span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_direction'>direction</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_got'>got</span>
<span class='kw'>rescue</span> <span class='const'>Async</span><span class='op'>::</span><span class='const'>TimeoutError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Did not collect </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_length'>length</span><span class='embexpr_end'>}</span><span class='tstring_content'> messages within </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_timeout'>timeout</span><span class='embexpr_end'>}</span><span class='tstring_content'>s</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
Maintained by <a href="https://rsmp-nordic.org" title="RSMP Nordic" target="_parent">RSMP Nordic</a>
</div>
    </div>
  </body>
</html>