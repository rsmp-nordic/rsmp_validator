<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Validator::Testee
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

  <link rel="stylesheet" href="../css/rspec.css" type="text/css" />

<script type="text/javascript">
  pathId = "Validator::Testee";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (T)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Validator.html" title="Validator (module)">Validator</a></span></span>
     &raquo; 
    <span class="title">Testee</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Validator::Testee
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Validator::Testee</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd>RSpec::Matchers</dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>spec/support/testee.rb</dd>
  </dl>
  
</div>

<div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="Site.html" title="Validator::Site (class)">Site</a></span>, <span class='object_link'><a href="Supervisor.html" title="Validator::Supervisor (class)">Supervisor</a></span></p>
</div>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="sentinel_errors-classvariable" class="">@@sentinel_errors =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='rbracket'>]</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sentinel_errors-class_method" title="sentinel_errors (class method)">.<strong>sentinel_errors</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#config-instance_method" title="#config (instance method)">#<strong>config</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#connected-instance_method" title="#connected (instance method)">#<strong>connected</strong>(options = {}) {|Async::Task.current, @node, @proxy| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Ensures that the site is connected.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#disconnected-instance_method" title="#disconnected (instance method)">#<strong>disconnected</strong> {|Async::Task.current| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Disconnects the site if connected before calling the block with a single argument ‘task`, which is an an Async::Task.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#isolated-instance_method" title="#isolated (instance method)">#<strong>isolated</strong>(options = {}) {|Async::Task.current, @node, @proxy| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Like ‘connected`, except that the connection is is closed after the test, before the next test is run.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reconnected-instance_method" title="#reconnected (instance method)">#<strong>reconnected</strong>(options = {}) {|Async::Task.current, @node, @proxy| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Disconnects the site if connected, then waits until the site is connected before calling the block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stop-instance_method" title="#stop (instance method)">#<strong>stop</strong>(why = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Stop the rsmp supervisor.</p>
</div></span>
  
</li>

      
    </ul>
  


  

  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="sentinel_errors-class_method">
  
    .<strong>sentinel_errors</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'spec/support/testee.rb', line 14</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sentinel_errors'>sentinel_errors</span>
  <span class='cvar'>@@sentinel_errors</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="config-instance_method">
  
    #<strong>config</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'spec/support/testee.rb', line 18</span>

<span class='kw'>def</span> <span class='id identifier rubyid_config'>config</span>
  <span class='const'><span class='object_link'><a href="../Validator.html" title="Validator (module)">Validator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_config'><span class='object_link'><a href="../Validator.html#config-class_method" title="Validator.config (method)">config</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="connected-instance_method">
  
    #<strong>connected</strong>(options = {}) {|Async::Task.current, @node, @proxy| ... } &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Ensures that the site is connected. If the site is already connected, the block will be called immediately. Otherwise waits until the site is connected before calling the block. Use this unless there’s a specific reason to use one of the other methods. A sequence of test using ‘connected` will  maintain the current connection to the site without disconnecting/reconnecting, leading to faster testing.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>Async::Task.current</tt>, <tt>@node</tt>, <tt>@proxy</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30
31
32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'spec/support/testee.rb', line 28</span>

<span class='kw'>def</span> <span class='id identifier rubyid_connected'>connected</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_start'>start</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Connecting</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_wait_for_proxy'>wait_for_proxy</span>
  <span class='kw'>yield</span> <span class='const'>Async</span><span class='op'>::</span><span class='const'>Task</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='comma'>,</span> <span class='ivar'>@node</span><span class='comma'>,</span> <span class='ivar'>@proxy</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="disconnected-instance_method">
  
    #<strong>disconnected</strong> {|Async::Task.current| ... } &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Disconnects the site if connected before calling the block with a single argument ‘task`, which is an an Async::Task.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>Async::Task.current</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


63
64
65
66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'spec/support/testee.rb', line 63</span>

<span class='kw'>def</span> <span class='id identifier rubyid_disconnected'>disconnected</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_stop'>stop</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Disconnecting</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>yield</span> <span class='const'>Async</span><span class='op'>::</span><span class='const'>Task</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="isolated-instance_method">
  
    #<strong>isolated</strong>(options = {}) {|Async::Task.current, @node, @proxy| ... } &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Like ‘connected`, except that the connection is is closed after the test, before the next test is run. Use this if you somehow modify the RSMP::SiteProxy or otherwise make the current connection unstable or unusable. Because `isolated` closes the connection after the test, you ensure that the modified RSMP::SiteProxy object is discarted and following tests use a new object.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>Async::Task.current</tt>, <tt>@node</tt>, <tt>@proxy</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


53
54
55
56
57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'spec/support/testee.rb', line 53</span>

<span class='kw'>def</span> <span class='id identifier rubyid_isolated'>isolated</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_stop'>stop</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Isolating</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_start'>start</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Connecting</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_wait_for_proxy'>wait_for_proxy</span>
  <span class='kw'>yield</span> <span class='const'>Async</span><span class='op'>::</span><span class='const'>Task</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='comma'>,</span> <span class='ivar'>@node</span><span class='comma'>,</span> <span class='ivar'>@proxy</span>
  <span class='id identifier rubyid_stop'>stop</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Isolating</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reconnected-instance_method">
  
    #<strong>reconnected</strong>(options = {}) {|Async::Task.current, @node, @proxy| ... } &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Disconnects the site if connected, then waits until the site is connected before calling the block. Use this if your test specifically needs to start with a fresh connection. But be aware that a fresh connection does not guarantee that the equipment will be in a pristine state. The equipment is not restarted or otherwise reset.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>Async::Task.current</tt>, <tt>@node</tt>, <tt>@proxy</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


40
41
42
43
44
45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'spec/support/testee.rb', line 40</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reconnected'>reconnected</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_stop'>stop</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Reconnecting</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_start'>start</span> <span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_wait_for_proxy'>wait_for_proxy</span>
  <span class='kw'>yield</span> <span class='const'>Async</span><span class='op'>::</span><span class='const'>Task</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='comma'>,</span> <span class='ivar'>@node</span><span class='comma'>,</span> <span class='ivar'>@proxy</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stop-instance_method">
  
    #<strong>stop</strong>(why = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Stop the rsmp supervisor</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


69
70
71
72
73
74
75
76
77
78</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'spec/support/testee.rb', line 69</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stop'>stop</span> <span class='id identifier rubyid_why'>why</span><span class='op'>=</span><span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='ivar'>@node</span>
    <span class='const'><span class='object_link'><a href="../Validator.html" title="Validator (module)">Validator</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Log.html" title="Validator::Log (module)">Log</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log'><span class='object_link'><a href="Log.html#log-instance_method" title="Validator::Log#log (method)">log</a></span></span> <span class='id identifier rubyid_why'>why</span> <span class='kw'>if</span> <span class='id identifier rubyid_why'>why</span>
    <span class='ivar'>@node</span><span class='period'>.</span><span class='id identifier rubyid_ignore_errors'>ignore_errors</span> <span class='const'>RSMP</span><span class='op'>::</span><span class='const'>DisconnectError</span> <span class='kw'>do</span>
      <span class='ivar'>@node</span><span class='period'>.</span><span class='id identifier rubyid_stop'>stop</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@node</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@proxy</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
Maintained by <a href="https://rsmp-nordic.org" title="RSMP Nordic" target="_parent">RSMP Nordic</a>
</div>
    </div>
  </body>
</html>